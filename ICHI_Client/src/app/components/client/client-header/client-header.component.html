<section class="py-0">
  <div class="container-small">
    <div class="ecommerce-topbar">
      <nav class="navbar navbar-expand-lg navbar-light px-0">
        <div class="row gx-0 gy-2 w-100 flex-between-center">
          <div class="col-auto">
            <a class="text-decoration-none" routerLink="/">
              <div class="d-flex align-items-center">
                <img
                  src="../../../assets/img/favicons/favicon-1.ico.ico"
                  alt="phoenix"
                  width="100"
                />
                <p class="logo-text ms-2">Văn Phòng Phẩm</p>
              </div>
            </a>
          </div>
          <div class="col-auto order-md-1">
            <ul class="navbar-nav navbar-nav-icons flex-row me-n2">
              <li class="nav-item d-flex align-items-center">
                <div class="theme-control-toggle fa-icon-wait px-2">
                  <input
                    class="form-check-input ms-0 theme-control-toggle-input"
                    type="checkbox"
                    data-theme-control="phoenixTheme"
                    value="dark"
                    id="themeControlToggle"
                  /><label
                    class="mb-0 theme-control-toggle-label theme-control-toggle-light"
                    for="themeControlToggle"
                    data-bs-toggle="tooltip"
                    data-bs-placement="left"
                    aria-label="Switch theme"
                    data-bs-original-title="Switch theme"
                    ><svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="16px"
                      height="16px"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      class="feather feather-moon icon"
                    >
                      <path
                        d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"
                      ></path></svg></label
                  ><label
                    class="mb-0 theme-control-toggle-label theme-control-toggle-dark"
                    for="themeControlToggle"
                    data-bs-toggle="tooltip"
                    data-bs-placement="left"
                    aria-label="Switch theme"
                    data-bs-original-title="Switch theme"
                    ><svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="16px"
                      height="16px"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      class="feather feather-sun icon"
                    >
                      <circle cx="12" cy="12" r="5"></circle>
                      <line x1="12" y1="1" x2="12" y2="3"></line>
                      <line x1="12" y1="21" x2="12" y2="23"></line>
                      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                      <line x1="1" y1="12" x2="3" y2="12"></line>
                      <line x1="21" y1="12" x2="23" y2="12"></line>
                      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                      <line
                        x1="18.36"
                        y1="5.64"
                        x2="19.78"
                        y2="4.22"
                      ></line></svg
                  ></label>
                </div>
              </li>
              <li class="nav-item">
                <a
                  class="nav-link px-2 icon-indicator icon-indicator-primary"
                  routerLink="/cart"
                  role="button"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16px"
                    height="16px"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="feather feather-shopping-cart text-body-tertiary"
                    style="height: 20px; width: 20px"
                  >
                    <circle cx="9" cy="21" r="1"></circle>
                    <circle cx="20" cy="21" r="1"></circle>
                    <path
                      d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"
                    ></path></svg
                  ><span class="icon-indicator-number">
                    {{ cartItemCount }}
                  </span></a
                >
              </li>

              <li class="nav-item dropdown">
                <a
                  class="nav-link px-2"
                  id="navbarDropdownUser"
                  href="#"
                  role="button"
                  data-bs-toggle="dropdown"
                  data-bs-auto-close="outside"
                  aria-haspopup="true"
                  aria-expanded="false"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16px"
                    height="16px"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="feather feather-user text-body-tertiary"
                    style="height: 20px; width: 20px"
                  >
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle></svg
                ></a>
                <div
                  class="dropdown-menu dropdown-menu-end navbar-dropdown-caret py-0 dropdown-profile shadow border mt-2"
                  aria-labelledby="navbarDropdownUser"
                >
                  <div class="card position-relative border-0">
                    <div class="card-body p-0">
                      <div class="text-center pt-4 pb-3">
                        <div class="avatar avatar-xl">
                          <img
                            class="rounded-circle"
                            src="../../../assets/img/team/72x72/57.webp"
                            alt=""
                          />
                        </div>
                        <h6 class="mt-2 text-body-emphasis">{{ email }}</h6>
                      </div>
                    </div>
                    <div class="overflow-auto scrollbar" style="height: 4rem">
                      <ul class="nav d-flex flex-column mb-2 pb-1">
                        <li class="nav-item">
                          <a class="nav-link px-3" routerLink="/profile">
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              width="16px"
                              height="16px"
                              viewBox="0 0 24 24"
                              fill="none"
                              stroke="currentColor"
                              stroke-width="2"
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              class="feather feather-user me-2 text-body"
                            >
                              <path
                                d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"
                              ></path>
                              <circle cx="12" cy="7" r="4"></circle></svg
                            ><span>Profile</span></a
                          >
                        </li>
                        <li class="nav-item">
                          <a class="nav-link px-3" href="#!"
                            ><svg
                              xmlns="http://www.w3.org/2000/svg"
                              width="16px"
                              height="16px"
                              viewBox="0 0 24 24"
                              fill="none"
                              stroke="currentColor"
                              stroke-width="2"
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              class="feather feather-pie-chart me-2 text-body"
                            >
                              <path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path>
                              <path d="M22 12A10 10 0 0 0 12 2v10z"></path></svg
                            >Dashboard</a
                          >
                        </li>
                      </ul>
                    </div>
                    <div class="card-footer p-0 border-top border-translucent">
                      <ul
                        class="nav d-flex flex-column my-3"
                        *ngIf="email !== ''"
                      >
                        <li class="nav-item">
                          <a class="nav-link px-3" (click)="resetPassword()">
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              width="16px"
                              height="16px"
                              viewBox="0 0 24 24"
                              fill="none"
                              stroke="currentColor"
                              stroke-width="2"
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              class="feather feather-user-plus me-2 text-body"
                            >
                              <path
                                d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"
                              ></path>
                              <circle cx="8.5" cy="7" r="4"></circle>
                              <line x1="20" y1="8" x2="20" y2="14"></line>
                              <line x1="23" y1="11" x2="17" y2="11"></line></svg
                            >Đổi mật khẩu</a
                          >
                        </li>
                      </ul>
                      <hr />
                      <div class="px-3">
                        <a
                          class="btn btn-phoenix-secondary d-flex flex-center w-100"
                          (click)="signout()"
                          *ngIf="email !== ''"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="16px"
                            height="16px"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            class="feather feather-log-out me-2"
                          >
                            <path
                              d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"
                            ></path>
                            <polyline points="16 17 21 12 16 7"></polyline>
                            <line x1="21" y1="12" x2="9" y2="12"></line></svg
                          >Đăng xuất</a
                        >
                      </div>

                      <div class="px-3">
                        <a
                          class="btn btn-phoenix-secondary d-flex flex-center w-100"
                          *ngIf="email === ''"
                          (click)="login()"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="16px"
                            height="16px"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            class="feather feather-log-out me-2"
                          >
                            <path
                              d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"
                            ></path>
                            <polyline points="16 17 21 12 16 7"></polyline>
                            <line x1="21" y1="12" x2="9" y2="12"></line></svg
                          >Đăng nhập</a
                        >
                      </div>
                      <div
                        class="my-2 text-center fw-bold fs-10 text-body-quaternary"
                      >
                        <a class="text-body-quaternary me-1" href="#!"
                          >Privacy policy</a
                        >?<a class="text-body-quaternary mx-1" href="#!"
                          >Terms</a
                        >?<a class="text-body-quaternary ms-1" href="#!"
                          >Cookies</a
                        >
                      </div>
                    </div>
                  </div>
                </div>
              </li>
            </ul>
          </div>
          <div class="col-12 col-md-6">
            <div
              class="search-box ecommerce-search-box w-100"
              data-list='{"valueNames":["title"]}'
              style="width: 25rem"
            >
              <form
                class="position-relative"
                data-bs-toggle="search"
                data-bs-display="static"
                (submit)="onSearch()"
              >
                <input
                  class="form-control search-input fuzzy-search rounded-pill form-control-sm"
                  type="search"
                  (keyup)="searchProduct($event)"
                  [(ngModel)]="search"
                  name="search"
                  placeholder="Search..."
                  aria-label="Search"
                />
                <span class="fas fa-search search-box-icon"></span>
              </form>
              <div
                class="btn-close position-absolute end-0 top-50 translate-middle cursor-pointer shadow-none"
                data-bs-dismiss="search"
              >
                <button class="btn btn-link p-0" aria-label="Close"></button>
              </div>
              <div class="dropdown-menu border start-0 py-0 w-100">
                <div class="scrollbar-overlay" style="max-height: 30rem">
                  <div class="simplebar-wrapper" style="margin: 0px">
                    <div class="simplebar-height-auto-observer-wrapper">
                      <div class="simplebar-height-auto-observer"></div>
                    </div>

                    <!-- nếu có data thì hiện -->
                    <div class="simplebar-mask">
                      <div
                        class="simplebar-offset"
                        style="right: 0px; bottom: 0px"
                      >
                        <div
                          class="simplebar-content-wrapper"
                          tabindex="0"
                          role="region"
                          aria-label="scrollable content"
                          style="height: auto"
                        >
                          <div class="simplebar-content" style="padding: 0px">
                            <div
                              class="list pb-3"
                              *ngFor="let product of productdto"
                            >
                              <hr class="my-0" />
                              <div class="py-2">
                                <a
                                  routerLink="/product_detail/{{
                                    product.product.id
                                  }}"
                                  class="dropdown-item py-2 d-flex align-items-center"
                                >
                                  <div class="file-thumbnail me-2">
                                    <img
                                      src="{{ Environment.apiBaseRoot }}/{{
                                        product.productImages[0].imagePath
                                      }}"
                                      alt=""
                                      class="h-100 w-100 fit-cover rounded-3"
                                    />
                                  </div>
                                  <div class="flex-1">
                                    <h6 class="mb-0 text-body-highlight title">
                                      {{ product.product.productName }}
                                    </h6>
                                    <p
                                      class="fs-10 mb-0 d-flex text-body-tertiary"
                                    >
                                      <span
                                        class="fw-medium text-body-tertiary text-opactity-85"
                                        >{{ product.product.price }}</span
                                      >
                                    </p>
                                  </div>
                                </a>
                              </div>
                            </div>

                            <div
                              class="list pb-3"
                              *ngFor="let product of productdto"
                            >
                              <hr class="my-0" />
                              <div class="py-2">
                                <a
                                  routerLink="/product_detail/{{
                                    product.product.id
                                  }}"
                                  class="dropdown-item py-2 d-flex align-items-center"
                                >
                                  <div class="file-thumbnail me-2">
                                    <img
                                      src="{{ Environment.apiBaseRoot }}/{{
                                        product.productImages[0].imagePath
                                      }}"
                                      alt=""
                                      class="h-100 w-100 fit-cover rounded-3"
                                    />
                                  </div>
                                  <div class="flex-1">
                                    <h6 class="mb-0 text-body-highlight title">
                                      {{ product.product.productName }}
                                    </h6>
                                    <p
                                      class="fs-10 mb-0 d-flex text-body-tertiary"
                                    >
                                      <span
                                        class="fw-medium text-body-tertiary text-opactity-85"
                                        >{{ product.product.price }}</span
                                      >
                                    </p>
                                  </div>
                                </a>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div
                      class="simplebar-placeholder"
                      style="width: 0px; height: 0px"
                    ></div>
                  </div>

                  <!-- Hiện thị khi không có giá trị -->
                  <div
                    class="col-12 col-lg-12 text-center"
                    *ngIf="
                      productdto.length === 0 &&
                      searchIndex !== 0 &&
                      search !== ''
                    "
                  >
                    <div>
                      <img
                        src="../../../../assets/empty_product.svg"
                        alt=""
                        width="100px"
                      />
                      <h4 class="fw-normal fs-9 text-danger">
                        Không tìm thấy sản phẩm nào
                      </h4>
                    </div>
                  </div>
                  <div
                    class="simplebar-track simplebar-horizontal"
                    style="visibility: hidden"
                  >
                    <div
                      class="simplebar-scrollbar"
                      style="width: 0px; display: none"
                    ></div>
                  </div>
                  <div
                    class="simplebar-track simplebar-vertical"
                    style="visibility: hidden"
                  >
                    <div
                      class="simplebar-scrollbar"
                      style="height: 0px; display: none"
                    ></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
    </div>
  </div>
</section>
